(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const i=[{id:"bronze1",name:"A. Novice",rarity:"Bronze",dribble:40,speed:42,pass:38,shoot:35,strength:45,defense:40,ovr:40,attackNote:38,defenseNote:42},{id:"silver1",name:"D. Promise",rarity:"Silver",dribble:60,speed:62,pass:65,shoot:55,strength:60,defense:58,ovr:60,attackNote:59,defenseNote:59},{id:"gold1",name:"G. Star",rarity:"Gold",dribble:85,speed:88,pass:82,shoot:90,strength:78,defense:70,ovr:82,attackNote:85,defenseNote:74}];function d(n){const o=n.reduce((r,e)=>r+e.weight,0);let s=Math.random()*o;return n.find(r=>(s-=r.weight)<0)}class l extends Phaser.Scene{constructor(){super("GachaScene")}create(){this.add.text(120,150,"Tirer une carte",{fontSize:"24px"}).setInteractive().on("pointerdown",()=>{const o=i.map(r=>({...r,weight:{Bronze:60,Silver:25,Gold:15}[r.rarity]})),s=d(o);alert(`${s.name} (${s.rarity})
OVR ${s.ovr}`),this.scene.start("MatchScene",{card:s})})}}class h extends Phaser.Scene{constructor(){super("MatchScene")}init(o){this.card=o.card}create(){const o=this.card.attackNote/100,s=this.card.defenseNote/100,r=c=>Math.round(-Math.log(Math.random())/(c||.01)),e=r(o),t=r(s);this.add.text(200,250,`${e} – ${t}`,{fontSize:"48px"});const a=e>t?"Victoire":e<t?"Défaite":"Nul";this.add.text(200,330,a,{fontSize:"32px"}),this.input.once("pointerdown",()=>this.scene.start("GachaScene"))}}new Phaser.Game({type:Phaser.AUTO,width:480,height:800,parent:"game",scene:[l,h]});
